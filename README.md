# adopt-a-friend

[**Site**](https://partyvs.party/) - [**Party**](https://www.party.app/party/0x1c409297dd82167B6be3e79D4bF0B6f7a6ff0dB4) - [**Tweet**](https://twitter.com/prtyDAO/status/1674447750182719489) - [**hyphenation**](https://hyphenation.vercel.app) / [**scotato/hyphenation**](https://github.com/scotato/hyphenation)

adopt a hyphenated friend: exchange an [**On-Chain NFT**](https://zora.co/collect/eth:0x73d24948fD946AE7F20EED63D7C0680eDfaF36f1) to mint a hyphenated friend.

> With each passing day, more and more people are switching from “on-chain” to “onchain.” While this may seem like a harmless choice, thousands of innocent hyphens are losing their place in the world. No longer needed to hold “on-chain” together, these hyphens are in need of a loving place to call home. What if you could make a difference in a hyphen’s life forever?

> Introducing the Adopt-a-Hyphen program. For the next 3 days, you can adopt a hyphen and give it a new home…right in your wallet! To adopt a hyphen, simply mint an Adoption Ticket. Each Adoption Ticket can be redeemed to adopt one hyphen. As is their nature, each hyphen lives fully on-chain and is rendered in solidity as cute, generative ASCII art. Upon redeeming your Adoption Ticket, you’ll enjoy the surprise of finding out what kind of hyphen you got!

## Usage

This project uses [**Foundry**](https://github.com/foundry-rs/foundry) as its development/testing framework.

### Installation

First, make sure you have Foundry installed. Then, run the following commands to clone the repo and install its dependencies:

```sh
git clone https://github.com/fiveoutofnine/adopt-a-hyphen.git
cd adopt-a-hyphen
forge install
```

### Sample metadata/art generation

To test the metadata output, follow the instructions in [`PrintAdoptAHyphenScript`](https://github.com/fiveoutofnine/adopt-a-hyphen/blob/main/script/PrintAdoptAHyphenScript.s.sol), and run the following command:

```sh
forge script script/PrintAdoptAHyphenScript.s.sol:PrintAdoptAHyphenScript -vvv
```

To generate and write SVG files after running `PrintAdoptAHyphenScript` to `script/preview`, run the following command:

```sh
node script/preview.js
```

### Deploying

1. Configure the variables `HYPHEN_NFT_CONTRACT_ADDRESS` and `OWNER` inside [`print-bytecode.sh`](https://github.com/fiveoutofnine/adopt-a-hyphen/blob/main/print-bytecode.sh), which will write the bytecode with constructor arguments to `bytecode-with-constructor.txt`.

2. [Optional] Compute a `create2` salt to deploy with. Here's some basic steps to do that with [**johguse/ERADICATE2**](https://github.com/johguse/ERADICATE2)

```sh
git clone https://github.com/johguse/ERADICATE2.git
cd ERADICATE2
make
./ERADICATE2.x64 -A $CREATE2_FACTORY_ADDRESS -I $INIT_CODE --matching "20102010"
```

3. Use a factory (e.g. [`0x0000000000FFe8B47B3e2130213B802212439497`](https://etherscan.io/address/0x0000000000ffe8b47b3e2130213b802212439497)) to deploy the bytecode to a deterministic address or just deploy the generated bytecode.

### Verifying `AdoptAHyphen`

To generate the constructor arguments, run the following command:

```
cast abi-encode "constructor(address,address)" $HYPHEN_NFT_CONTRACT_ADDRESS $OWNER
```

Then, to verify the contract on [**Etherscan**](https://etherscan.io), run the following command:

```sh
forge verify-contract --chain-id $CHAIN_ID --num-of-optimizations 7777777 --watch --compiler-version $COMPILER_VERSION $DEPLOY_ADDRESS src/AdoptAHyphen.sol:AdoptAHyphen --etherscan-api-key $ETHERSCAN_KEY --constructor-args $CONSTRUCTOR_ARGS
```
